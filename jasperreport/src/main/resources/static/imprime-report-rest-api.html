<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>

  <h1 style="text-align: center;width: 100%" class="display-4">Relatório REST API</h1>
  
  <form style="width: 100%; padding-top: 10%;padding-left: 40%">
    <label for="nome"  class="form-label">Nome do relatório</label><br>
    <select id="nome" name="nome" class="form-select" style="width: 300px">
     <option value="relatorio-usuario-jrbcds">Relatório de usuário</option>
     <option value="relatorio-usuario-agrupamento-jrbcds">Relatório de usuário agrupamento</option>
     <option value="relatorio-usuario-com-subreport-jrbcds">Relatório de usuário sub-report</option>
     <option value="relatorio-usuario-grafico-pizza-jrbcds">Relatório de usuário pizza</option>
     <option value="relatorio_usuario-barra-chart-jrbcds">Relatório de usuário barra</option>
     <option value="relatorio_usuario_tabela-jrbcds">Relatório de usuário tabela</option>
     <option value="relatorio_usuario_crosstable-jrbcds">Relatório de usuário cross tabela</option>
    </select>
    <br>
    <br>
    <label for="salario_ini"  class="form-label">Salário Inicial</label><br>
    <input type="text" id="salario_ini" name="salario_ini" class="form-control" style="width: 300px">
    <br>
    <br>
    <label for="salario_fim"  class="form-label">Salário Final</label><br>
    <input type="text" id="salario_fim" name="salario_fim" class="form-control" style="width: 300px">
    <br>
    <br>
    <input type="button" value="Imprimir relatório" class="btn btn-primary" style="width: 300px"  onclick="imprimirReportRestApi()">
  </form>

<br>
<br>


<iframe src="" style="width: 100%;height: 500px" id="framePdf">

</iframe>

<script type="text/javascript">

  function imprimirReportRestApi(){
	  var nome = document.getElementById('nome').value;
	  
	  var salario_ini = document.getElementById('salario_ini').value;
	  
	  var salario_fim = document.getElementById('salario_fim').value;
	  
	  var request = new XMLHttpRequest();
	  request.open("GET","/imprimirReportBase64/nome/"+nome+"/salario_ini/"+salario_ini+"/salario_fim/" + salario_fim, false);
	  request.send();
	  
	  var pdf = request.responseText;
	  
	
	 // console.info(pdf);
	 
	  document.getElementById('framePdf').src = pdf;
	  
  }

</script>
</body>
</html>